<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" th:href="@{/css/styles.css}" />
    <script>
        const urlParams = new URLSearchParams(window.location.search);
        if (urlParams.has('infoMsg')) {
            alert("회원정보가 성공적으로 변경 되었습니다");
        }
    </script>

    <style>
        .menu-group {
            position: relative; /* 상대 위치 설정 */
            top: -10px; /* 원하는 만큼 위로 이동 */
        }

        .menu-group a {
            padding: 10px 15px; /* 패딩 조정 */
            display: block;
            color: white;
            text-decoration: none;
            margin-bottom: 5px; /* 항목 간의 간격 조정 */
            border: 1px solid transparent; /* 테두리 추가 */
            /*border-radius: 5px; !* 모서리 둥글게 *!*/
        }

        .menu-group a:hover {
            background: #555; /* hover 시 배경색 변경 */
            border: 1px solid #fff; /* hover 시 테두리 색상 변경 */
        }



        .card-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr); /* 두 개의 열로 설정 */
            gap: 20px; /* 카드 간의 간격 */
            margin-top: 20px; /* 카드 상단 간격 */
        }

        .card {
            background: white;
            border-radius: 8px;
            padding: 10px; /* 패딩 줄이기 */
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            height: 400px; /* 카드 높이 제한 */
            overflow: hidden; /* 내용이 넘칠 경우 숨김 */
            position: relative; /* 자식 요소의 절대 위치를 위한 기준 */
        }

        .card h2 {
            margin: 0; /* 기본 여백 제거 */
            font-size: 18px; /* 제목 크기 조정 */
            text-align: left; /* 제목을 왼쪽 정렬 */
        }

        /* 그래프의 크기를 조정 */
        canvas {
            width: 60% !important; /* 카드 너비의 90%로 설정 */
            height: 80% !important; /* 카드 높이에 비례하여 설정 */
            position: absolute; /* 카드 내에서 절대 위치 설정 */
            bottom: 10px; /* 카드 하단에서의 위치 */
            left: 50%; /* 카드의 중앙으로 이동 */
            transform: translateX(-50%); /* 중앙 정렬을 위한 이동 */
        }

        /* 미디어 쿼리로 모바일 대응 */
        @media (max-width: 768px) {
            .card-container {
                grid-template-columns: 1fr; /* 모바일에서는 한 열로 설정 */
            }
        }


    </style>
</head>
<body>
<aside>
    <a href="/dashboard">홈으로</a>
    <div class="menu-group">
    <a href="/dashboard">대시보드</a>
    <a href="/hrm">인사관리</a>
    <a href="/sales">판매</a>
    <a href="/accounting">회계</a>
    </div>
    <a href="/confirmPw" style="margin-top: 500px;">정보수정</a>
    <form action="/logout" method="post" style="display:inline;">
        <button type="submit" style="background:none; border:none; color:white; cursor:pointer;">로그아웃</button>
    </form>


</aside>

<div class="content">
    <div class="card-container">
        <div class="card">
            <h2>판매 순위 그래프</h2>
            <canvas id="salesPieChart"></canvas>
        </div>
        <div class="card">
            <h2>일일 매출 그래프</h2>
            <canvas id="dailySalesChart"></canvas>
        </div>
        <div class="card">
            <h2>월 매출 그래프</h2>
            <canvas id="monthlySalesChart"></canvas>
        </div>
        <div class="card">
            <h2>현재 재고 상황</h2>
            <canvas id="stockStatusChart"></canvas>
        </div>
    </div>
</div>

<footer>
    <p>문의사항: admin1@gmail.com</p>
</footer>

<!-- Chart.js 라이브러리 추가 -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // 차트 데이터 및 옵션 설정
        const salesPieCtx = document.getElementById('salesPieChart').getContext('2d');
        const dailySalesCtx = document.getElementById('dailySalesChart').getContext('2d');
        const monthlySalesCtx = document.getElementById('monthlySalesChart').getContext('2d');
        const stockStatusCtx = document.getElementById('stockStatusChart').getContext('2d');

        // 판매 순위 그래프
        const salesPieChart = new Chart(salesPieCtx, {
            type: 'pie',
            data: {
                labels: ['마티니', '샹그리아', '롱아일랜드'],
                datasets: [{
                    label: '판매 비율',
                    data: [21.7, 53.3, 25],
                    backgroundColor: ['#FF6384', '#36A2EB', '#FFCE56']
                }]
            }
        });

        // 일일 매출 그래프
        const dailySalesChart = new Chart(dailySalesCtx, {
            type: 'line',
            data: {
                labels: ['1월', '2월', '3월', '4월', '5월', '6월', '7월'],
                datasets: [{
                    label: '일일 매출',
                    data: [120000, 700000, 225000, 400000, 600000, 800000, 500000],
                    borderColor: '#36A2EB',
                    fill: false
                }]
            }
        });

        // 월 매출 그래프
        const monthlySalesChart = new Chart(monthlySalesCtx, {
            type: 'bar',
            data: {
                labels: ['1월', '2월', '3월', '4월', '5월'],
                datasets: [{
                    label: '월 매출',
                    data: [4000000, 6000000, 3750000, 8000000, 5000000],
                    backgroundColor: '#FFCE56'
                }]
            }
        });

        // 현재 재고 상태 그래프
        const stockStatusChart = new Chart(stockStatusCtx, {
            type: 'bar',
            data: {
                labels: ['제품 A', '제품 B', '제품 C'],
                datasets: [{
                    label: '재고',
                    data: [800, 850, 30],
                    backgroundColor: '#4CAF50'
                }]
            }
        });
    });
</script>

</body>
</html>
